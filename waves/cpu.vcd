$date
	Tue Aug 26 21:19:24 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module cpu_tb $end
$var wire 32 ! debug_pc [31:0] $end
$var parameter 32 " ADDR_WIDTH $end
$var parameter 32 # END_SENTINEL $end
$var parameter 128 $ IMEM_FILE $end
$var parameter 32 % MAX_CYCLES $end
$var reg 1 & clk $end
$var reg 1 ' finished $end
$var reg 1 ( mem_ok $end
$var reg 1 ) reg_ok $end
$var reg 1 * reset $end
$var integer 32 + cycles [31:0] $end
$var integer 32 , k [31:0] $end
$scope module dut $end
$var wire 1 & clk $end
$var wire 32 - debug_alu [31:0] $end
$var wire 32 . debug_instr [31:0] $end
$var wire 1 * reset $end
$var wire 2 / wb_sel [1:0] $end
$var wire 5 0 rs2 [4:0] $end
$var wire 5 1 rs1 [4:0] $end
$var wire 1 2 reg_write $end
$var wire 5 3 rd [4:0] $end
$var wire 7 4 opcode [6:0] $end
$var wire 2 5 op1_sel [1:0] $end
$var wire 1 6 mem_write $end
$var wire 1 7 mem_read $end
$var wire 1 8 is_jalr $end
$var wire 1 9 is_jal $end
$var wire 1 : is_branch $end
$var wire 32 ; instr [31:0] $end
$var wire 32 < imm_out [31:0] $end
$var wire 7 = funct7 [6:0] $end
$var wire 3 > funct3 [2:0] $end
$var wire 32 ? debug_pc [31:0] $end
$var wire 32 @ debug_alu_int [31:0] $end
$var wire 20 A csr [19:0] $end
$var wire 1 B alu_src $end
$var wire 4 C alu_ctrl [3:0] $end
$var parameter 32 D ADDR_WIDTH $end
$var parameter 32 E DATA_WIDTH $end
$var parameter 128 F DMEM_FILE $end
$var parameter 128 G IMEM_FILE $end
$scope module u_controller $end
$var wire 2 H wb_sel [1:0] $end
$var wire 5 I rs2 [4:0] $end
$var wire 5 J rs1 [4:0] $end
$var wire 1 2 reg_write $end
$var wire 5 K rd [4:0] $end
$var wire 7 L opcode [6:0] $end
$var wire 2 M op1_sel [1:0] $end
$var wire 1 6 mem_write $end
$var wire 1 7 mem_read $end
$var wire 1 8 is_jalr $end
$var wire 1 9 is_jal $end
$var wire 1 : is_branch $end
$var wire 32 N instr [31:0] $end
$var wire 3 O imm_sel [2:0] $end
$var wire 32 P imm_out [31:0] $end
$var wire 1 Q funct7_5 $end
$var wire 7 R funct7 [6:0] $end
$var wire 3 S funct3 [2:0] $end
$var wire 20 T csr [19:0] $end
$var wire 1 B alu_src $end
$var wire 2 U alu_op [1:0] $end
$var wire 4 V alu_ctrl [3:0] $end
$scope module u_alu_control $end
$var wire 3 W funct3 [2:0] $end
$var wire 1 Q funct7_5 $end
$var wire 2 X alu_op [1:0] $end
$var reg 4 Y alu_ctrl [3:0] $end
$upscope $end
$scope module u_decoder_glue $end
$var wire 2 Z wb_sel [1:0] $end
$var wire 5 [ rs2 [4:0] $end
$var wire 5 \ rs1 [4:0] $end
$var wire 1 2 reg_write $end
$var wire 5 ] rd [4:0] $end
$var wire 2 ^ op1_sel [1:0] $end
$var wire 1 6 mem_write $end
$var wire 1 7 mem_read $end
$var wire 1 _ jump $end
$var wire 1 ` is_system $end
$var wire 1 a is_store $end
$var wire 1 b is_lui $end
$var wire 1 c is_load $end
$var wire 1 8 is_jalr $end
$var wire 1 9 is_jal $end
$var wire 1 : is_branch $end
$var wire 1 d is_auipc $end
$var wire 1 e is_alu_reg $end
$var wire 1 f is_alu_imm $end
$var wire 32 g instr [31:0] $end
$var wire 3 h imm_sel [2:0] $end
$var wire 32 i imm_out [31:0] $end
$var wire 1 j branch_sig $end
$var wire 1 B alu_src $end
$var wire 2 k alu_op [1:0] $end
$var parameter 32 l DATA_WIDTH $end
$scope module u_ctl $end
$var wire 1 ` is_system $end
$var wire 1 a is_store $end
$var wire 1 b is_lui $end
$var wire 1 c is_load $end
$var wire 1 8 is_jalr $end
$var wire 1 9 is_jal $end
$var wire 1 : is_branch $end
$var wire 1 d is_auipc $end
$var wire 1 e is_alu_reg $end
$var wire 1 f is_alu_imm $end
$var wire 32 m instr [31:0] $end
$var wire 3 n funct3 [2:0] $end
$var parameter 32 o DATA_WIDTH $end
$var reg 2 p alu_op [1:0] $end
$var reg 1 B alu_src $end
$var reg 1 j branch_sig $end
$var reg 3 q imm_sel [2:0] $end
$var reg 1 _ jump $end
$var reg 1 7 mem_read $end
$var reg 1 6 mem_write $end
$var reg 2 r op1_sel [1:0] $end
$var reg 2 s wb_sel [1:0] $end
$upscope $end
$scope module u_dec $end
$var wire 1 8 is_jalr $end
$var wire 1 2 reg_write $end
$var wire 7 t opcode [6:0] $end
$var wire 1 ` is_system $end
$var wire 1 a is_store $end
$var wire 1 b is_lui $end
$var wire 1 c is_load $end
$var wire 1 9 is_jal $end
$var wire 1 : is_branch $end
$var wire 1 d is_auipc $end
$var wire 1 e is_alu_reg $end
$var wire 1 f is_alu_imm $end
$var wire 32 u instr [31:0] $end
$var parameter 32 v DATA_WIDTH $end
$upscope $end
$scope module u_imm $end
$var wire 3 w imm_sel [2:0] $end
$var wire 32 x u_imm [31:0] $end
$var wire 32 y s_imm [31:0] $end
$var wire 32 z j_imm [31:0] $end
$var wire 32 { instr [31:0] $end
$var wire 32 | i_imm [31:0] $end
$var wire 32 } b_imm [31:0] $end
$var reg 32 ~ imm_out [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope module u_datapath $end
$var wire 4 !" alu_ctrl [3:0] $end
$var wire 1 B alu_src $end
$var wire 1 & clk $end
$var wire 20 "" csr [19:0] $end
$var wire 32 #" debug_alu [31:0] $end
$var wire 32 $" debug_pc [31:0] $end
$var wire 3 %" funct3 [2:0] $end
$var wire 7 &" funct7 [6:0] $end
$var wire 32 '" imm_out [31:0] $end
$var wire 1 : is_branch $end
$var wire 1 9 is_jal $end
$var wire 1 8 is_jalr $end
$var wire 1 7 mem_read $end
$var wire 1 6 mem_write $end
$var wire 2 (" op1_sel [1:0] $end
$var wire 7 )" opcode [6:0] $end
$var wire 5 *" rd [4:0] $end
$var wire 1 2 reg_write $end
$var wire 1 * reset $end
$var wire 5 +" rs1 [4:0] $end
$var wire 5 ," rs2 [4:0] $end
$var wire 2 -" wb_sel [1:0] $end
$var wire 32 ." wb_data [31:0] $end
$var wire 32 /" rs2_data [31:0] $end
$var wire 32 0" rs1_data [31:0] $end
$var wire 32 1" rdata [31:0] $end
$var wire 32 2" pc_plus4 [31:0] $end
$var wire 32 3" pc_next [31:0] $end
$var wire 32 4" pc_current [31:0] $end
$var wire 32 5" op_b [31:0] $end
$var wire 32 6" op_a [31:0] $end
$var wire 32 7" instr [31:0] $end
$var wire 11 8" imem_addr [10:0] $end
$var wire 11 9" dmem_addr [10:0] $end
$var wire 1 :" branch_taken $end
$var wire 1 ;" alu_zero $end
$var wire 32 <" alu_result [31:0] $end
$var parameter 32 =" ADDR_WIDTH $end
$var parameter 32 >" DATA_WIDTH $end
$var parameter 128 ?" DMEM_FILE $end
$var parameter 128 @" IMEM_FILE $end
$scope module u_alu $end
$var wire 4 A" alu_ctrl [3:0] $end
$var wire 32 B" op_a [31:0] $end
$var wire 32 C" op_b [31:0] $end
$var wire 1 ;" alu_zero $end
$var reg 32 D" alu_result [31:0] $end
$upscope $end
$scope module u_branch_comp $end
$var wire 3 E" funct3 [2:0] $end
$var wire 32 F" op2 [31:0] $end
$var wire 32 G" op1 [31:0] $end
$var parameter 3 H" BEQ $end
$var parameter 3 I" BGE $end
$var parameter 3 J" BGEU $end
$var parameter 3 K" BLT $end
$var parameter 3 L" BLTU $end
$var parameter 3 M" BNE $end
$var reg 1 :" branch_taken $end
$upscope $end
$scope module u_dmem $end
$var wire 11 N" addr [10:0] $end
$var wire 1 & clk $end
$var wire 1 7 mem_read $end
$var wire 1 6 mem_write $end
$var wire 32 O" wdata [31:0] $end
$var parameter 32 P" ADDR_WIDTH $end
$var parameter 128 Q" MEM_FILE $end
$var reg 32 R" rdata [31:0] $end
$upscope $end
$scope module u_imem $end
$var wire 11 S" addr [10:0] $end
$var parameter 32 T" ADDR_WIDTH $end
$var parameter 128 U" MEM_FILE $end
$var reg 32 V" instr [31:0] $end
$upscope $end
$scope module u_next_pc $end
$var wire 1 :" branch_taken $end
$var wire 32 W" imm_out [31:0] $end
$var wire 1 : is_branch $end
$var wire 1 9 is_jal $end
$var wire 1 8 is_jalr $end
$var wire 1 X" misalign_bits $end
$var wire 32 Y" rs1_data [31:0] $end
$var wire 32 Z" pc_plus4 [31:0] $end
$var wire 32 [" pc_next [31:0] $end
$var wire 32 \" pc_current [31:0] $end
$var wire 32 ]" jalr_raw [31:0] $end
$var wire 32 ^" jalr_aligned [31:0] $end
$var wire 32 _" branch_jal_pc [31:0] $end
$upscope $end
$scope module u_pc $end
$var wire 1 & clk $end
$var wire 32 `" next_pc [31:0] $end
$var wire 1 * reset $end
$var reg 32 a" current_pc [31:0] $end
$upscope $end
$scope module u_rf $end
$var wire 1 & clk $end
$var wire 5 b" rd [4:0] $end
$var wire 32 c" rd_wdata [31:0] $end
$var wire 1 2 reg_write $end
$var wire 1 * reset $end
$var wire 5 d" rs1 [4:0] $end
$var wire 5 e" rs2 [4:0] $end
$var wire 32 f" rs2_data [31:0] $end
$var wire 32 g" rs1_data [31:0] $end
$var integer 32 h" i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope begin end_test $end
$upscope $end
$scope task run_cycles $end
$var integer 32 i" i [31:0] $end
$var integer 32 j" n [31:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b101110001011110111010001100101011100110111010001110011001011110111000001110010011011110110011100101110011011010110010101101101 U"
b1011 T"
b1110011011100100110001100101111011001000110000101110100011000010101111101101101011001010110110100101110011011010110010101101101 Q"
b1011 P"
b1 M"
b110 L"
b100 K"
b111 J"
b101 I"
b0 H"
b101110001011110111010001100101011100110111010001110011001011110111000001110010011011110110011100101110011011010110010101101101 @"
b1110011011100100110001100101111011001000110000101110100011000010101111101101101011001010110110100101110011011010110010101101101 ?"
b100000 >"
b1011 ="
b100000 v
b100000 o
b100000 l
b101110001011110111010001100101011100110111010001110011001011110111000001110010011011110110011100101110011011010110010101101101 G
b1110011011100100110001100101111011001000110000101110100011000010101111101101101011001010110110100101110011011010110010101101101 F
b100000 E
b1011 D
b10100 %
b101110001011110111010001100101011100110111010001110011001011110111000001110010011011110110011100101110011011010110010101101101 $
b1101111 #
b1011 "
$end
#0
$dumpvars
b101 j"
b0 i"
bx h"
b0 g"
bx f"
b10000 e"
b0 d"
b10000 c"
b110 b"
b0 a"
b100 `"
b10000 _"
b10000 ^"
b10000 ]"
b0 \"
b100 ["
b100 Z"
b0 Y"
1X"
b10000 W"
b1000000000000001100010011 V"
b0 S"
b0 R"
bx O"
b100 N"
b0 G"
bx F"
b0 E"
b10000 D"
b10000 C"
b0 B"
b0 A"
b10000 <"
0;"
x:"
b100 9"
b0 8"
b1000000000000001100010011 7"
b0 6"
b10000 5"
b0 4"
b100 3"
b100 2"
b0 1"
b0 0"
bx /"
b10000 ."
b0 -"
b10000 ,"
b0 +"
b110 *"
b10011 )"
b0 ("
b10000 '"
b0 &"
b0 %"
b0 $"
b10000 #"
b10000 ""
b0 !"
b10000 ~
b110 }
b10000 |
b1000000000000001100010011 {
b10000 z
b110 y
b1000000000000000000000000 x
b0 w
b1000000000000001100010011 u
b10011 t
b0 s
b0 r
b0 q
b0 p
b0 n
b1000000000000001100010011 m
b0 k
0j
b10000 i
b0 h
b1000000000000001100010011 g
1f
0e
0d
0c
0b
0a
0`
0_
b0 ^
b110 ]
b0 \
b10000 [
b0 Z
b0 Y
b0 X
b0 W
b0 V
b0 U
b10000 T
b0 S
b0 R
0Q
b10000 P
b0 O
b1000000000000001100010011 N
b0 M
b10011 L
b110 K
b0 J
b10000 I
b0 H
b0 C
1B
b10000 A
b10000 @
b0 ?
b0 >
b0 =
b10000 <
b1000000000000001100010011 ;
0:
09
08
07
06
b0 5
b10011 4
b110 3
12
b0 1
b10000 0
b0 /
b1000000000000001100010011 .
b10000 -
bx ,
bx +
1*
0)
0(
0'
0&
b0 !
$end
#5000
1:"
b0 /"
b0 F"
b0 O"
b0 f"
b100000 h"
b1 i"
1&
#10000
0&
#15000
b10 i"
b100000 h"
1&
#20000
0&
#25000
b100000 h"
b11 i"
1&
#30000
0&
#35000
b100 i"
b100000 h"
1&
#40000
0&
#45000
b0 +
0*
b100000 h"
b101 i"
1&
#50000
0&
#55000
b11011110101011011100000000000000 ."
b11011110101011011100000000000000 c"
b0 9"
b0 N"
b11011110101011011100000000000000 -
b11011110101011011100000000000000 @
b11011110101011011100000000000000 #"
b11011110101011011100000000000000 <"
b11011110101011011100000000000000 D"
b11011110101011011100000000000000 ^"
b11011110101011011100000000000000 5"
b11011110101011011100000000000000 C"
b11011110101011011100000000000000 ]"
b11011110101011011100000000000000 <
b11011110101011011100000000000000 P
b11011110101011011100000000000000 i
b11011110101011011100000000000000 ~
b11011110101011011100000000000000 '"
b11011110101011011100000000000000 W"
b10 5
b10 M
b10 ^
b10 r
b10 ("
b11 O
b11 h
b11 q
b11 w
1B
0:"
b1000 3"
b1000 ["
b1000 `"
b11111111111111011100010111101010 z
b11011110101011011100000000000000 x
b11111111111111111111110111100110 }
b11111111111111111111110111100111 y
b11111111111111111111110111101010 |
0f
1b
b110111 t
b100 n
b1010 [
b11011 \
b111 ]
b110111101010 A
b110111101010 T
b110111101010 ""
b1101111 =
b1101111 R
b1101111 &"
b1010 0
b1010 I
b1010 ,"
b1010 e"
b11011 1
b11011 J
b11011 +"
b11011 d"
b100 >
b100 S
b100 W
b100 %"
b100 E"
b111 3
b111 K
b111 *"
b111 b"
b110111 4
b110111 L
b110111 )"
b11011110101011011100001110110111 .
b11011110101011011100001110110111 ;
b11011110101011011100001110110111 N
b11011110101011011100001110110111 g
b11011110101011011100001110110111 m
b11011110101011011100001110110111 u
b11011110101011011100001110110111 {
b11011110101011011100001110110111 7"
b11011110101011011100001110110111 V"
b1 8"
b1 S"
b11011110101011011100000000000100 _"
b1000 Z"
b1000 2"
b100 !
b100 ?
b100 $"
b100 4"
b100 \"
b100 a"
b1 +
1&
#60000
0&
#65000
12
b11011110101011011011111011101111 ."
b11011110101011011011111011101111 c"
b11110111011 9"
b11110111011 N"
b11011110101011011011111011101111 -
b11011110101011011011111011101111 @
b11011110101011011011111011101111 #"
b11011110101011011011111011101111 <"
b11011110101011011011111011101111 D"
b11011110101011011100000000000000 6"
b11011110101011011100000000000000 B"
b11111111111111111111111011101111 5"
b11111111111111111111111011101111 C"
b11011110101011011011111011101110 ^"
b11111111111111111111111011101111 <
b11111111111111111111111011101111 P
b11111111111111111111111011101111 i
b11111111111111111111111011101111 ~
b11111111111111111111111011101111 '"
b11111111111111111111111011101111 W"
b0 5
b0 M
b0 ^
b0 r
b0 ("
b0 O
b0 h
b0 q
b0 w
1B
b11011110101011011011111011101111 ]"
b11011110101011011100000000000000 0"
b11011110101011011100000000000000 G"
b11011110101011011100000000000000 Y"
b11011110101011011100000000000000 g"
0:"
b1100 3"
b1100 ["
b1100 `"
b11111111111100111000111011101110 z
b11101110111100111000000000000000 x
b11111111111111111111111011100110 }
b11111111111111111111111011100111 y
b11111111111111111111111011101111 |
1f
0b
b10011 t
b0 n
b1111 [
b111 \
b111011101111 A
b111011101111 T
b111011101111 ""
b1110111 =
b1110111 R
b1110111 &"
b1111 0
b1111 I
b1111 ,"
b1111 e"
b111 1
b111 J
b111 +"
b111 d"
b0 >
b0 S
b0 W
b0 %"
b0 E"
b10011 4
b10011 L
b10011 )"
b11101110111100111000001110010011 .
b11101110111100111000001110010011 ;
b11101110111100111000001110010011 N
b11101110111100111000001110010011 g
b11101110111100111000001110010011 m
b11101110111100111000001110010011 u
b11101110111100111000001110010011 {
b11101110111100111000001110010011 7"
b11101110111100111000001110010011 V"
b10 8"
b10 S"
b11111111111111111111111011110111 _"
b1100 Z"
b1100 2"
b1000 !
b1000 ?
b1000 $"
b1000 4"
b1000 \"
b1000 a"
b10 +
1)
1&
#70000
0&
#75000
02
b1000000 5"
b1000000 C"
b1000000 ."
b1000000 c"
b10000 9"
b10000 N"
b1000000 <
b1000000 P
b1000000 i
b1000000 ~
b1000000 '"
b1000000 W"
16
b1 O
b1 h
b1 q
b1 w
1B
b11011110101011011011111011101111 /"
b11011110101011011011111011101111 F"
b11011110101011011011111011101111 O"
b11011110101011011011111011101111 f"
b1000000 -
b1000000 @
b1000000 #"
b1000000 <"
b1000000 D"
b10000 3"
b10000 ["
b10000 `"
b10100001000110 z
b100011100000010000000000000 x
b1000000 }
b1000000 y
b1000111 |
0f
1a
b100011 t
b10 n
b111 [
b0 \
b0 ]
b1000111 A
b1000111 T
b1000111 ""
b10 =
b10 R
b10 &"
b111 0
b111 I
b111 ,"
b111 e"
b0 1
b0 J
b0 +"
b0 d"
b10 >
b10 S
b10 W
b10 %"
b10 E"
b0 3
b0 K
b0 *"
b0 b"
b100011 4
b100011 L
b100011 )"
b1000000 ^"
b0 6"
b0 B"
b100011100000010000000100011 .
b100011100000010000000100011 ;
b100011100000010000000100011 N
b100011100000010000000100011 g
b100011100000010000000100011 m
b100011100000010000000100011 u
b100011100000010000000100011 {
b100011100000010000000100011 7"
b100011100000010000000100011 V"
b1000000 ]"
b0 0"
b0 G"
b0 Y"
b0 g"
b11 8"
b11 S"
b1001100 _"
b10000 Z"
b10000 2"
b1100 !
b1100 ?
b1100 $"
b1100 4"
b1100 \"
b1100 a"
b11 +
1&
#80000
0&
#85000
b100 9"
b100 N"
b10000 -
b10000 @
b10000 #"
b10000 <"
b10000 D"
b0 ^"
12
b10000 6"
b10000 B"
b10100 ."
b10100 c"
b0 5"
b0 C"
1:"
b0 ]"
b0 <
b0 P
b0 i
b0 ~
b0 '"
b0 W"
b1 5
b1 M
b1 ^
b1 r
b1 ("
1_
b10 /
b10 H
b10 Z
b10 s
b10 -"
b100 O
b100 h
b100 q
b100 w
1B
06
b0 /"
b0 F"
b0 O"
b0 f"
b10000 3"
b10000 ["
b10000 `"
b0 z
b0 x
b0 }
b0 y
b0 |
19
0a
b1101111 t
b0 n
b0 [
b0 A
b0 T
b0 ""
b0 =
b0 R
b0 &"
b0 0
b0 I
b0 ,"
b0 e"
b0 >
b0 S
b0 W
b0 %"
b0 E"
b1101111 4
b1101111 L
b1101111 )"
b1101111 .
b1101111 ;
b1101111 N
b1101111 g
b1101111 m
b1101111 u
b1101111 {
b1101111 7"
b1101111 V"
b100 8"
b100 S"
b10000 _"
b10100 Z"
b10100 2"
b10000 !
b10000 ?
b10000 $"
b10000 4"
b10000 \"
b10000 a"
b100 +
1&
#90000
0&
#95000
b10001 ,
1'
1(
1&
